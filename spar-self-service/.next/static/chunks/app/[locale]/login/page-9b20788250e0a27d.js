(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{1709:function(e,t,n){Promise.resolve().then(n.bind(n,1585)),Promise.resolve().then(n.bind(n,4267))},1585:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return LoginBox}});var r=n(7437),i=n(6691),o=n.n(i),s=n(2265),u=n(3242),c=n(116);function LoginBox(){let[e,t]=(0,s.useState)([]),n=(0,c.useTranslations)("login");return(0,s.useEffect)(function(){fetch((0,u.Y)("/auth/getLoginProviders")).then(e=>{e.json().then(e=>{t(e.loginProviders)})})},[]),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,r.jsxs)("div",{className:"text-center p-8 m-8",children:[(0,r.jsx)("div",{className:"text-orange-500 text-3xl p-2",children:n("title")}),(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("div",{children:n("description_1")}),(0,r.jsx)("div",{children:n("description_2")})]}),e&&0!==e.length&&e.map(e=>(0,r.jsx)("div",{className:"inline-block bg-black rounded-3xl shadow shadow-orange-300 text-center px-3 py-2 hover:bg-customYellow mt-2",children:(0,r.jsx)("a",{href:(0,u.Y)("/auth/getLoginProviderRedirect/".concat(e.id)),className:"text-white font-bold text-xl p-4",children:n("button_text")})},"provider-".concat(e.id)))]}),(0,r.jsx)(o(),{src:(0,u.u)("/img/globe_bg.png"),className:"mb-0",priority:!0,alt:"Logo",width:900,height:900})]})}},4267:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthUtil:function(){return AuthUtil},authContext:function(){return c}});var r=n(7437),i=n(4033),o=n(3242),s=n(2265),u=n(3013);let c={profile:null};function AuthUtil(e){let{setProfile:t}=(0,u.useAuth)(),{push:n,replace:l}=(0,i.useRouter)();function checkAndRedirect(){return e.successRedirectUrl&&c.profile?n(e.successRedirectUrl):e.failedRedirectUrl&&!c.profile?l(e.failedRedirectUrl):void 0}return(0,s.useEffect)(()=>{fetch((0,o.Y)("/auth/profile")).then(e=>{e.ok?e.json().then(e=>{c.profile=e,t(e)}).catch(e=>{console.log("Error Getting profile json",e)}).finally(checkAndRedirect):(console.log("Error Getting profile, res not ok"),checkAndRedirect())}).catch(e=>{console.log("Error Getting profile",e),checkAndRedirect()})},[]),(0,r.jsx)(r.Fragment,{})}},3013:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthProvider:function(){return AuthProvider},useAuth:function(){return useAuth},useSubmission:function(){return useSubmission},useUnlinked:function(){return useUnlinked}});var r=n(7437),i=n(2265);let o=(0,i.createContext)(void 0),s=(0,i.createContext)(void 0),u=(0,i.createContext)(void 0);function useAuth(){let e=(0,i.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function useSubmission(){let e=(0,i.useContext)(s);if(!e)throw Error("useSubmission must be used within an SubmissionProvider");return e}function useUnlinked(){let e=(0,i.useContext)(u);if(!e)throw Error("useUnlinked must be used within an UnlinkProvider");return e}function AuthProvider(e){let{children:t}=e,[n,c]=(0,i.useState)(null),[l,d]=(0,i.useState)(!1),[a,h]=(0,i.useState)(!1);return(0,r.jsx)(o.Provider,{value:{profile:n,setProfile:c},children:(0,r.jsx)(u.Provider,{value:{isUnLinked:a,setIsUnLinked:h},children:(0,r.jsx)(s.Provider,{value:{isDataSubmitted:l,setDataSubmitted:d},children:t})})})}},3242:function(e,t,n){"use strict";function prefixBasePath(e){return"/spar"+e}function prefixBaseApiPath(e){return"/spar/v1"+e}n.d(t,{Y:function(){return prefixBaseApiPath},u:function(){return prefixBasePath}})}},function(e){e.O(0,[291,971,472,744],function(){return e(e.s=1709)}),_N_E=e.O()}]);